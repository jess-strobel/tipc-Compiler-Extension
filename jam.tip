/*
 * Benchmark for loop unroll and jamming optimization.
 * 
 * Compile with and without the -jam optimization then run:
 *   time ./jam 20000
 * to observe the execution time of the benchmark.
 */
main() {
  var i, j, r, v;
  i = 0;
  r = 0;
  j = 0;
  v = 42;
  while (20000 > i) {
    while (20000 > j) {
      r = r + i * j;
      //r = unroll(i, j);
      j = j + 1;
    }
    i = i + 1;
  }
  return r;
}

unroll(i, j) {
  var x;
  x = 0;
  while (i > j) {
    x = x + 1;
  }
  return x;
}